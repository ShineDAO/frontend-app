{"version":3,"sources":["webpack:///./src/components/common/HorizontalRuler/index.js","webpack:///./src/components/common/subpages/veShnContainer.js","webpack:///./src/components/common/subpages/stakingContainer.js","webpack:///./src/components/common/subpages/controllerPanel.js","webpack:///./src/pages/veSHN.js"],"names":["HorizontalRuler","styled","hr","width","theme","color","marginTop","height","opacity","marginBottom","axios","require","VeShnContainer","isWalletEnabled","chainId","refetchData","setRefetchData","loadingIndicator","setLoadingIndicator","useContext","ThemeContext","console","log","getAddress","UNIX_timestamp","a","year","month","useState","locked","setLocked","shnBalance","setShnBalance","amountToLock","setAmountToLock","sliderValue","setSliderValue","desiredLockTimestamp","setDesiredLockTimestamp","allowance","setAllowance","lockError","setLockError","epoch","setEpoch","userPointHistory","setUserPointHistory","setEstimatedSlope","estimatedBias","setEstimatedBias","userAddress","setUserAddress","shinePrice","setShinePrice","getUsdValue","get","then","response","data","current_price","catch","error","handleChange","e","target","value","concat","createVeShnLock","veSHN","abi","veShnApprove","ShineToken","increaseAmountOfLockedShn","increaseUnlockTimeForLockedShn","veShnCheckpoint","withdrawShnFromVeShn","checkIsValidNumber","str","match","useEffect","getUserPointHistory","getOnlyUserAddress","updateHistory","slope","toWei","bias","Date","getTime","end","checkLocked","lockedBalance","getShineBalance","getAllowance","getEpoch","getLocked","toTimestamp","strDate","parse","targetDate","now","process","style","textAlign","margin","fontSize","fontWeight","fontFamily","href","roundTo2Decimals","onChange","amount","handleAmountToLock","filteredString","substring","filterAmountToLock","borderRadius","boder","marginLeft","onClick","cursor","includes","loading","size","handleAmountIncrease","type","min","max","handleApprove","handleUnlockTimeIncrease","handleCreateLock","parseInt","fromWei","toFixed","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","handleWithdraw","handleCheckpoint","StakingContainer","setRewardAddressesDropdown","setTokenSymbolsForDropdown","totalShnSupply","setTotalShnSupply","setPeriodFinish","setLastUpdateTime","setYieldRate","setYieldPerVeShnStored","setTotalVeShnParticipating","setTotalVeShnSupplyStored","setUserVeShnCheckpointed","setUserVeShnEndpointCheckpointed","setFractionParticipating","setYieldPerVeShn","setEarned","tvl","setTvl","location","text","successMessage","setSuccessMessage","rewardAddresses","setRewardAddresses","tokenSymbols","setTokenSymbols","dataForAdminPanel","setDataForAdminPanel","tokenPrices","setTokenPrices","url","audio","Audio","playing","setPlaying","play","pause","addEventListener","removeEventListener","useAudio","toggle","getTotalShnSupply","shnSupply","getPeriodFinish","veShnYieldDistributor","getLastUpdateTime","getYieldRate","getyieldPerVeFXSStored","getTotalVeFXSParticipating","getTotalVeFXSSupplyStored","getUserVeShnCheckpointed","getUserVeShnEndpointCheckpointed","getFractionParticipating","getYieldPerVeShn","getRewardAddresses","GeneralCheckpoint","getEarned","getRewardTokenSymbols","getDataForControlPanel","getSupply","coingeckoConfig","id","hardcodedPrice","rewardCheckpoint","rewardAddress","index","getYield","temp_arr","push","forEach","element","fetchData","yieldRate_arr","map","item","key","totalVeShnParticipating_arr","userVeShnCheckpointed_arr","handleRewardCheckpoint","earned_arr","display","justifyContent","alignItems","handleClaim","ControllerPanel","rewardAddressesDropdown","tokenSymbolsForDropdown","rewardToAdd","setRewardToAdd","selectedRewardAddress","setSelectedRewardAddress","emittedTokenAddress","setEmittedTokenAddress","address","sync","handleRewardContractDeploy","ownerAddress","timelockAddress","veShnAddress","deployNewRewardContract","marginRight","handleSync","periodFinish_arr","timeConverter","lastUpdateTime_arr","yieldRate","yieldPerVeShnStored_arr","yieldPerVeShnStored","totalVeShnParticipating","totalVeShnSupplyStored_arr","totalVeShnSupplyStored","userVeShnCheckpointed","fractionParticipating_arr","fractionParticipating","yieldPerVeShn_arr","yieldPerVeShn","userVeShnEndpointCheckpointed_arr","userVeShnEndpointCheckpointed","addressToRemove","confirm","removeRewardContract","addressToApprove","veShnYieldDistributorApprove","SHN","name","notifyRewardAmount","rewardContractAddress","notifyReward","flexDirection","for","toLocaleLowerCase","WalletContext","setWalletStatus","setChainId","currentAccount","setCurrentAccount","position","bottom","title","description","mobileWidth","background","paddingBottom"],"mappings":"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","file":"component---src-pages-ve-shn-js-37ebfc8174811dc61298.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const HorizontalRuler = styled.hr`\n  width: ${({ width }) => width || \"90%\"};\n  color: ${({ theme }) => (theme === \"light\" ? \"#3F3D56\" : \"#fff\")};\n  background-color: ${({ color,theme }) => color || (theme === \"light\" ? \"#3F3D56\" : \"#fff\")};\n  border-color: ${({ theme }) => (theme === \"light\" ? \"#3F3D56\" : \"#fff\")};\n  margin-top: ${({ marginTop }) => marginTop || \"50px\"};\n  margin: 0 auto;\n  height: ${({ height }) => height || \"\"};\n  opacity: ${({ opacity }) => opacity || \"\"};\n  margin-bottom: ${({ marginBottom }) => marginBottom || \"\"};\n\n`;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { ThemeContext } from \"providers/ThemeProvider\";\n\nimport { SliderContainer, Slider } from \"components/common/Container/index\";\nimport { MobileDiv, Button, Card, Text } from \"components/common\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nconst axios = require(\"axios\");\n\nimport {\n  createVeShnLock,\n  veShnApprove,\n  increaseUnlockTimeForLockedShn,\n  increaseAmountOfLockedShn,\n  withdrawShnFromVeShn,\n  getOnlyUserAddress,\n  veShnCheckpoint,\n  getShineBalance,\n  toWei,\n  fromWei,\n  getAllowance,\n  getEpoch,\n  getUserPointHistory,\n  getAddress,\n  checkLocked,\n  roundTo2Decimals,\n} from \"../../templates/utils\";\nimport veSHN from \"../../../../static/abi/veFXS\";\nimport ShineToken from \"../../../../static/abi/ShineToken\";\nimport { FontStyles } from \"components/common\";\n\nconst MAXTIME = 4 * 365 * 86400; // 4 years\nconst VOTE_WEIGHT_MULTIPLIER = 4 - 1; // 4x gives 300% boost at 4 years\n\nexport function VeShnContainer({ isWalletEnabled, chainId, refetchData, setRefetchData, loadingIndicator, setLoadingIndicator }) {\n  //const [shnAddress, setShnAddress] = useState(getAddress(chainId,\"shnAddress\")); //not used becuase it doesnt work\n  //const [veShnAddress, setVeShnAddress] = useState(getAddress(chainId,\"veShnAddress\"));\n  const { theme } = useContext(ThemeContext);\n\n  console.log(\"chainxxx \", chainId, getAddress(chainId, \"shnAddress\"));\n\n  const [locked, setLocked] = useState();\n  const [shnBalance, setShnBalance] = useState(0);\n  const [amountToLock, setAmountToLock] = useState(0);\n  const [sliderValue, setSliderValue] = useState(90);\n  const [desiredLockTimestamp, setDesiredLockTimestamp] = useState();\n  const [allowance, setAllowance] = useState();\n  const [lockError, setLockError] = useState(false);\n  const [epoch, setEpoch] = useState();\n  const [userPointHistory, setUserPointHistory] = useState();\n\n  const [estimatedSlope, setEstimatedSlope] = useState();\n  const [estimatedBias, setEstimatedBias] = useState();\n  const [userAddress, setUserAddress] = useState();\n\n  const [shinePrice, setShinePrice] = useState(0);\n\n\n  //useEffect(() => {\n  //    setShnAddress(getAddress(chainId,\"shnAddress\"))\n  //    setVeShnAddress(getAddress(chainId,\"veShnAddress\"))\n  //}, [chainId]); not used because it didnt work as expected\n\n  useEffect(() => {\n    if (isWalletEnabled == true) {\n      async function updateHistory() {\n        getUserPointHistory(setUserPointHistory, await getOnlyUserAddress(), getAddress(chainId, \"veShnAddress\"), veSHN.abi);\n      }\n      updateHistory();\n    }\n  }, [epoch]);\n\n  useEffect(() => {\n    if (isWalletEnabled == true) {\n      let slope = toWei(amountToLock) / MAXTIME;\n      setEstimatedSlope(slope);\n      let bias = slope * (desiredLockTimestamp - new Date().getTime() / 1000);\n      setEstimatedBias(bias);\n      //console.log(\"estimated Slope and bias \", slope, bias, toWei(amountToLock), amountToLock, desiredLockTimestamp);\n      //console.log(\"lower timestamp \",new Date(desiredLockTimestamp* 1000).getTime(), new Date(locked.end * 1000).getTime(), locked.end, locked.end != 0 && new Date(desiredLockTimestamp*1000).getTime()  <= new Date(locked.end * 1000).getTime())\n      if (locked.end != 0 && new Date(desiredLockTimestamp * 1000).getTime()  <= new Date(locked.end * 1000).getTime()) {\n        setLockError(\"The time on the lock can only be increased.\");\n      }\n    }\n  }, [desiredLockTimestamp, amountToLock]);\n\n  async function getUsdValue(setShinePrice){\n    axios\n    .get(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=shinedao\")\n    .then(function(response) {\n      // handle success\n      //console.log(\"priceeee \", response.data[0].current_price)\n      setShinePrice(response.data[0].current_price);\n    })\n    .catch(function(error) {\n      // handle error\n      console.log(error);\n    })\n    .then(function() {\n      // always executed\n    });\n  }\n  useEffect(() => {\n    console.log(\"data \", isWalletEnabled, chainId, getAddress(chainId, \"veShnAddress\"));\n    if (isWalletEnabled == true) {\n      async function getLocked() {\n        setUserAddress(await getOnlyUserAddress());\n        const lockedBalance = await checkLocked(await getOnlyUserAddress(), getAddress(chainId, \"veShnAddress\"), veSHN.abi);\n        console.log(\"queried balance\", lockedBalance);\n        console.log(\"refetchData \", refetchData);\n        console.log(\"chainY \", getAddress(chainId, \"shnAddress\"));\n        setLocked(lockedBalance);\n        getShineBalance(setShnBalance, await getOnlyUserAddress(), ShineToken.abi, getAddress(chainId, \"shnAddress\"));\n        getAllowance(setAllowance, getAddress(chainId, \"veShnAddress\"), await getOnlyUserAddress(), ShineToken.abi, getAddress(chainId, \"shnAddress\"));\n        getEpoch(setEpoch, getAddress(chainId, \"veShnAddress\"), veSHN.abi);\n        await getUsdValue(setShinePrice)\n      }\n      getLocked();\n    }\n  }, [isWalletEnabled, refetchData, chainId]);\n\n  useEffect(() => {\n    axios\n      .get(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=shinedao\")\n      .then(function(response) {\n        // handle success\n        //console.log(\"shine price \", response.data[0].current_price, fromWei(totalShnSupply));\n        setShinePrice(response.data[0].current_price);\n      })\n      .catch(function(error) {\n        // handle error\n        console.log(error);\n      })\n      .then(function() {\n        // always executed\n      });\n  }, [refetchData]);\n\n  useEffect(() => {\n    function toTimestamp(strDate) {\n      var datum = Date.parse(strDate);\n      return datum / 1000;\n    }\n    if (sliderValue >= 7) {\n      let targetDate = new Date(Date.now() + sliderValue * 24 * 60 * 60 * 1000);\n      setDesiredLockTimestamp(toTimestamp(targetDate));\n      setLockError(false);\n    } else {\n      setLockError(\"Minimum lock duration is 7 days\");\n      let targetDate = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n      setDesiredLockTimestamp(toTimestamp(targetDate));\n    }\n  }, [sliderValue]);\n\n  function handleChange(e) {\n    setSliderValue(e.target.value);\n  }\n\n  async function handleCreateLock() {\n    setLockError(false);\n    setLoadingIndicator(loadingIndicator.concat([\"createLock\"]));\n    await createVeShnLock(userAddress, veSHN.abi, getAddress(chainId, \"veShnAddress\"), amountToLock, desiredLockTimestamp, loadingIndicator, setLoadingIndicator, setLockError, setRefetchData);\n  }\n\n  function timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp * 1000);\n    var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + \" \" + month + \" \" + year + \" \" + hour + \":\" + min + \":\" + sec;\n    return time;\n  }\n\n  console.log(\"process env \", process.env.NODE_ENV);\n\n  async function handleApprove() {\n    setLoadingIndicator(loadingIndicator.concat([\"approve\"]));\n    await veShnApprove(userAddress, getAddress(chainId, \"veShnAddress\"), setAllowance, loadingIndicator, setLoadingIndicator, ShineToken.abi, getAddress(chainId, \"shnAddress\"));\n  }\n\n  async function handleAmountIncrease() {\n    setLockError(false);\n    setLoadingIndicator(loadingIndicator.concat([\"increaseLockAmount\"]));\n    await increaseAmountOfLockedShn(userAddress, amountToLock, getAddress(chainId, \"veShnAddress\"), veSHN.abi, setLockError, setLocked, loadingIndicator, setLoadingIndicator, setShnBalance, setRefetchData, ShineToken.abi, getAddress(chainId, \"shnAddress\"));\n  }\n\n  async function handleUnlockTimeIncrease() {\n    setLockError(false);\n    setLoadingIndicator(loadingIndicator.concat([\"increaseLockTime\"]));\n    await increaseUnlockTimeForLockedShn(userAddress, desiredLockTimestamp, getAddress(chainId, \"veShnAddress\"), veSHN.abi, setLockError, setLocked, loadingIndicator, setLoadingIndicator, setRefetchData);\n  }\n  async function handleCheckpoint() {\n    setLoadingIndicator(loadingIndicator.concat([\"veShnCheckpoint\"]));\n    await veShnCheckpoint(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, getAddress(chainId, \"veShnAddress\"), veSHN.abi);\n  }\n\n  async function handleWithdraw() {\n    setLockError(false);\n    setLoadingIndicator(loadingIndicator.concat([\"withdraw\"]));\n    await withdrawShnFromVeShn(userAddress, loadingIndicator, setLoadingIndicator, getAddress(chainId, \"veShnAddress\"), veSHN.abi, setLockError);\n  }\n\n  function checkIsValidNumber(str) {\n    var numberRegex = /^[0-9.]*$/;\n    if (str == \"\") {\n      return false;\n    } else if (str.match(numberRegex)) {\n      return true;\n      console.log(\"**Its Valid number\");\n    } else {\n      return false;\n      console.log(\"Its not Valid number\");\n    }\n  }\n  function handleAmountToLock(amount, setAmountToLock) {\n    console.log(\"typee \", checkIsValidNumber(amount), amount);\n    if (checkIsValidNumber(amount)) {\n      setAmountToLock(amount);\n    } else {\n      setAmountToLock(\"0\");\n    }\n  }\n\n  function filterAmountToLock(amountToLock) {\n    console.log(\"filteredAmount \", amountToLock, typeof amountToLock);\n    let filteredString = amountToLock;\n    while (filteredString[0] == \"0\") {\n      filteredString = filteredString.substring(1);\n    }\n    return filteredString;\n  }\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <div style={{ width: \"85%\", margin:\"0 auto\" }}>\n        <div>\n          <div>\n            <br></br>\n            <Text fontSize=\"26px\" fontWeight=\"600\" fontFamily=\"ClashGrotesk-Regular\">veSHN Locking</Text>\n            <br></br>\n            <p>\n            veSHN contract allows users to lock & stake their SHN to get SEED access, SHN yield, project token distribution and governance rights. Benefits are proportional to the lock time. Find more info here:{\" \"}\n              <a href=\"https://docs.shinedao.finance/community/shn-token/veshn\" target=\"_self\">\n                docs\n              </a>\n              .\n            </p>\n          </div>\n          <div>\n            <SliderContainer>\n              <span>Balance:</span> {roundTo2Decimals(shnBalance)} SHN 🌟  ($ { roundTo2Decimals(shinePrice*shnBalance)})  { false && allowance}  <br></br> <br></br>\n              <span>{\"Enter amount to lock\"} </span>\n              <input onChange={target => handleAmountToLock(target.target.value, setAmountToLock)} value={filterAmountToLock(amountToLock)} style={{ borderRadius: 6, boder: \"1px solid #3f3d56\", marginLeft: 20 }}></input>{\" \"}\n              <b onClick={() => setAmountToLock(shnBalance)} style={{ cursor: \"pointer\" }}>\n                MAX\n              </b>\n              <br></br>\n              <br></br>\n              {locked &&\n                locked.amount > 0 &&\n                (loadingIndicator.includes(\"increaseLockAmount\") ? (\n                  <div>\n                    <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                    <br></br>\n                    <i>Confirming transaction, please wait.</i>\n                  </div>\n                ) : (\n                  allowance != 0 && <Button onClick={() => handleAmountIncrease()}>Increase Amount</Button>\n                ))}\n              <br></br>\n              <br></br>\n              <br></br><br></br>\n              <Slider type=\"range\" min=\"7\" max=\"1460\" value={sliderValue} onChange={handleChange}></Slider>\n              <input onChange={handleChange} value={sliderValue} style={{ borderRadius: 6, boder: \"1px solid #3f3d56\", marginLeft: 35 }}></input>\n              <span>{\" Days \"} </span>\n              {sliderValue > 1460 && <Text color=\"#4F4FC8\">Maximum allowed lock time is 4 Years / 1460 days</Text>}\n              {lockError && <Text color=\"#4F4FC8\"> {lockError}</Text>}\n            </SliderContainer>{\" \"}\n            <Text >Please select the lock time:</Text>\n            <br></br>\n            {console.log(\"loading indicator \", loadingIndicator)}\n            {allowance == 0 &&\n              (loadingIndicator.includes(\"approve\") ? (\n                <div>\n                  <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                  <br></br>\n                  <i>Confirming transaction, please wait.</i>\n                </div>\n              ) : (\n                <div>\n                  <Button onClick={() => handleApprove()}>Approve</Button><br></br><br></br>\n                </div>\n              ))}\n            \n            {locked && locked.amount > 0 ? (\n              <div>\n                {loadingIndicator.includes(\"increaseLockTime\") ? (\n                  <div>\n                    <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                    <br></br>\n                    <i>Confirming transaction, please wait.</i>\n                  </div>\n                ) : (\n                  allowance != 0 &&  <Button onClick={() => handleUnlockTimeIncrease()}>Increase Lock Time</Button>\n                )}\n              </div>\n            ) : allowance != 0 && loadingIndicator.includes(\"createLock\") ? (\n              <div>\n                <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                <br></br>\n                <i>Confirming transaction, please wait.</i>\n              </div>\n            ) : (\n              isWalletEnabled && <Button onClick={() => handleCreateLock()}>Create Lock</Button>\n            )}\n            <br></br>\n            {console.log(\"amount to lock \", amountToLock, typeof amountToLock, amountToLock == 0, amountToLock == \"0\", amountToLock != \"0\")}\n            {amountToLock != \"0\" && estimatedBias && <Text > = {(parseInt(amountToLock) + VOTE_WEIGHT_MULTIPLIER * fromWei(estimatedBias)).toFixed(2)} veSHN</Text>}\n            {true && (\n              <div>\n                {locked && (\n                  <div>\n                    {console.log(\"locked end \", locked.end, typeof locked.end, locked.end == 0)}\n                    <br></br>Locked amount: <b>{roundTo2Decimals(fromWei(locked.amount))} SHN</b>\n                    {locked.end != 0 && (\n                      <div>\n                        Lock end:<b> {timeConverter(locked.end)}</b>\n                      </div>\n                    )}\n                    {userPointHistory && (\n                      <Text>\n                        <div>\n                          <span>Current locked weight</span> <b>{(parseInt(fromWei(locked.amount)) + VOTE_WEIGHT_MULTIPLIER * fromWei(userPointHistory.bias)).toFixed(2)} veSHN</b>\n                        </div>\n                        <i>Sometimes you need to refresh the page to see the latest data.</i>\n                      </Text>\n                    )}\n                    {console.log(\"time now in seconds\", new Date().getTime(), new Date(locked.end * 1000).getTime(), new Date().getTime() >= new Date(locked.end * 1000).getTime(), locked.end * 1000)}\n                    {locked.end != 0 && new Date().getTime() / 100 >= new Date(locked.end * 1000).getTime() && (\n                      <div>\n                        <br></br>\n                        {loadingIndicator.includes(\"withdraw\") ? (\n                          <div>\n                            <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                            <br></br>\n                            <i>Confirming transaction, please wait.</i>\n                          </div>\n                        ) : (\n                          <Button onClick={() => handleWithdraw()}>Withdraw</Button>\n                        )}\n                      </div>\n                    )}\n                    {false && (\n                      <div>\n                        <br></br>Epoch {epoch}\n                        <br></br> <br></br>User point history <br></br>\n                        <br></br>bias {userPointHistory && userPointHistory.bias} <br></br>slope {userPointHistory && userPointHistory.slope} <br></br>ts {userPointHistory && userPointHistory.ts} <br></br>blk {userPointHistory && userPointHistory.blk}{\" \"}\n                        <br></br>\n                        fxs_amt {userPointHistory && userPointHistory.fxs_amt} <br></br>estimatedSlope {estimatedSlope}\n                      </div>\n                    )}\n                    {\n                      //object with keys {0, 1, 2, 3, 4, bias, slope, ts, blk, fxs_amt}\n                    }\n                  </div>\n                )}\n                <br></br>\n                {loadingIndicator.includes(\"veShnCheckpoint\") ? (\n                  <div>\n                    <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                    <br></br>\n                    <i>Confirming transaction, please wait.</i>\n                  </div>\n                ) : (\n                  isWalletEnabled && userAddress === getAddress(chainId, \"controllerAddress\") && <Button style={{marginBottom:10}} onClick={() => handleCheckpoint()}>Checkpoint</Button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport {\n  getYield,\n  getOnlyUserAddress,\n  getEarned,\n  getYieldPerVeShn,\n  getUserVeShnEndpointCheckpointed,\n  getFractionParticipating,\n  getUserVeShnCheckpointed,\n  rewardCheckpoint,\n  getTotalVeFXSSupplyStored,\n  getTotalVeFXSParticipating,\n  getyieldPerVeFXSStored,\n  getYieldRate,\n  getLastUpdateTime,\n  getPeriodFinish,\n  getTotalShnSupply,\n  fromWei,\n  getAddress,\n  roundTo2Decimals,\n  getRewardAddresses,\n  getRewardTokenSymbols,\n  //getUserVeShnCheckpointedInAllAddresses,\n  getDataForControlPanel,\n} from \"../../templates/utils\";\nimport { MobileDiv, Button, Card, Text } from \"components/common\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n\nimport veSHN from \"../../../../static/abi/veFXS\";\nimport ShineToken from \"../../../../static/abi/ShineToken\";\nimport veShnYieldDistributor from \"../../../../static/abi/veFXSYieldDistributorV4\";\nimport GeneralCheckpoint from \"../../../../static/abi/GeneralCheckpoint\";\nconst axios = require(\"axios\");\n\nexport function StakingContainer({ isWalletEnabled, chainId, refetchData, setRefetchData, loadingIndicator, setLoadingIndicator, setRewardAddressesDropdown,setTokenSymbolsForDropdown }) {\n  //const [veShnYieldDistributorAddress, setVeShnYieldDistributorAddress] = useState(getAddress(chainId, \"veShnYieldDistributorAddress\"));\n  //const [veShnAddress, setVeShnAddress] = useState(getAddress(chainId, \"veShnAddress\")); //didnt work as expected\n\n  const [totalShnSupply, setTotalShnSupply] = useState(\"0\");\n  const [periodFinish, setPeriodFinish] = useState(\"\");\n  const [lastUpdateTime, setLastUpdateTime] = useState(\"\");\n  const [yieldRate, setYieldRate] = useState(\"\");\n  const [yieldPerVeShnStored, setYieldPerVeShnStored] = useState(\"\");\n  const [totalVeShnParticipating, setTotalVeShnParticipating] = useState(\"\");\n  const [totalVeShnSupplyStored, setTotalVeShnSupplyStored] = useState(\"\");\n  const [userVeShnCheckpointed, setUserVeShnCheckpointed] = useState(\"\");\n  //const [userVeShnCheckpointedAllAddresses, setUserVeShnCheckpointedAllAddresses] = useState(\"\");\n  const [userVeShnEndpointCheckpointed, setUserVeShnEndpointCheckpointed] = useState(\"\");\n  const [fractionParticipating, setFractionParticipating] = useState(\"\");\n  const [yieldPerVeShn, setYieldPerVeShn] = useState(\"\");\n  const [earned, setEarned] = useState(\"\");\n  const [userAddress, setUserAddress] = useState();\n  const [tvl, setTvl] = useState();\n  const [successMessage, setSuccessMessage] = useState({ location: \"\", text: \"\" }); //location rewardClaim/\n  const [rewardAddresses, setRewardAddresses] = useState();\n  const [tokenSymbols, setTokenSymbols] = useState();\n\n  const [dataForAdminPanel, setDataForAdminPanel] = useState();\n  const [tokenPrices, setTokenPrices] = useState([]);\n\n  //useEffect(() => {\n  //  setVeShnYieldDistributorAddress(getAddress(chainId, \"veShnYieldDistributorAddress\"));\n  //  setVeShnAddress(getAddress(chainId, \"veShnAddress\"));\n  //}, [chainId]);\n\n  const useAudio = url => {\n    const [audio] = useState(new Audio(url));\n    const [playing, setPlaying] = useState(false);\n\n    const toggle = () => setPlaying(!playing);\n\n    useEffect(() => {\n      playing ? audio.play() : audio.pause();\n    }, [playing]);\n\n    useEffect(() => {\n      audio.addEventListener(\"ended\", () => setPlaying(false));\n      return () => {\n        audio.removeEventListener(\"ended\", () => setPlaying(false));\n      };\n    }, []);\n\n    return [playing, toggle];\n  };\n  const [playing, toggle] = useAudio(\"https://themushroomkingdom.net/sounds/wav/sm64/sm64_exit_course_pause_menu.wav\");\n\n  useEffect(() => {\n    if (isWalletEnabled == true) {\n      async function getSupply() {\n        const shnSupply = await getTotalShnSupply(veSHN.abi, getAddress(chainId, \"veShnAddress\"));\n        console.log(\"shnSupply balance\", shnSupply);\n        setTotalShnSupply(shnSupply);\n        setUserAddress(await getOnlyUserAddress());\n        setPeriodFinish(await getPeriodFinish(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setLastUpdateTime(await getLastUpdateTime(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setYieldRate(await getYieldRate(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setYieldPerVeShnStored(await getyieldPerVeFXSStored(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setTotalVeShnParticipating(await getTotalVeFXSParticipating(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setTotalVeShnSupplyStored(await getTotalVeFXSSupplyStored(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setUserVeShnCheckpointed(await getUserVeShnCheckpointed(await getOnlyUserAddress(), veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setUserVeShnEndpointCheckpointed(await getUserVeShnEndpointCheckpointed(await getOnlyUserAddress(), veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setFractionParticipating(await getFractionParticipating(veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setYieldPerVeShn(await getYieldPerVeShn(await getOnlyUserAddress(), veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setRewardAddresses(await getRewardAddresses(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi));\n        setEarned(await getEarned(await getOnlyUserAddress(), veShnYieldDistributor.abi, getAddress(chainId, \"veShnYieldDistributorAddress\")));\n        setTokenSymbols(await getRewardTokenSymbols(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi, veShnYieldDistributor.abi, ShineToken.abi));\n        //setUserVeShnCheckpointedAllAddresses(await getUserVeShnCheckpointedInAllAddresses(await getOnlyUserAddress(), veShnYieldDistributor.abi, getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi));\n        setDataForAdminPanel(await getDataForControlPanel(await getOnlyUserAddress(), getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi, veShnYieldDistributor.abi));\n      }\n      getSupply();\n    }\n  }, [isWalletEnabled, refetchData, chainId]);\n\n  useEffect(() => {\n    if (typeof rewardAddresses != \"undefined\") {\n      setRewardAddressesDropdown(rewardAddresses); //dropdown is used for notifying reward in the control panel\n    }\n  }, [rewardAddresses]);\n\n  useEffect(() => {\n    if (typeof tokenSymbols != \"undefined\") {\n      setTokenSymbolsForDropdown(tokenSymbols); //used to show symbols in dropdown\n    }\n  }, [tokenSymbols]);\n\n  const coingeckoConfig = {\n    // we already have a template for 10 reward tokens. Fill them out when new yield distributor is launched.\n    \"1\": { id: \"fill_in_when_known\", hardcodedPrice: 0.0039 },\n    \"2\": { id: \"fill_in_when_known\", hardcodedPrice: 323 },\n    \"3\": { id: \"fill_in_when_known\", hardcodedPrice: 4242 },\n    \"4\": { id: \"fill_in_when_known\", hardcodedPrice: 5523 },\n    \"5\": { id: \"fill_in_when_known\", hardcodedPrice: 1 },\n    \"6\": { id: \"fill_in_when_known\", hardcodedPrice: 1 },\n    \"7\": { id: \"fill_in_when_known\", hardcodedPrice: 1 },\n    \"8\": { id: \"fill_in_when_known\", hardcodedPrice: 1 },\n    \"9\": { id: \"fill_in_when_known\", hardcodedPrice: 1 },\n  };\n\n  useEffect(() => {\n    axios\n      .get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=shinedao`)\n      .then(function(response) {\n        // handle success\n        console.log(\"shine price \", response.data[0].current_price, fromWei(totalShnSupply));\n        setTvl(fromWei(totalShnSupply) * response.data[0].current_price);\n      })\n      .catch(function(error) {\n        // handle error\n        console.log(error);\n      })\n      .then(function() {\n        // always executed\n      });\n  }, [totalShnSupply, refetchData]);\n\n  useEffect(() => {\n    if (typeof tokenSymbols != \"undefined\") {\n      async function fetchData() {\n        let temp_arr = [];\n        axios\n          .get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=shinedao`)\n          .then(function(response) {\n            // handle success\n            console.log(\"shine price \", response.data[0].current_price, fromWei(totalShnSupply));\n            console.log(\"token symbols\", tokenSymbols);\n            temp_arr.push(response.data[0].current_price);\n          })\n          .catch(function(error) {\n            // handle error\n            console.log(error);\n          })\n          .then(function() {\n            // always executed\n\n            tokenSymbols.forEach((element, index) => {\n              if (index != 0) {\n                temp_arr.push(coingeckoConfig[index].hardcodedPrice);\n              }\n            });\n\n            setTokenPrices(temp_arr);\n            // note that first emmited token should always be SHN and here its excluded\n          });\n      }\n      fetchData();\n    }\n  }, [tokenSymbols]);\n\n  async function handleRewardCheckpoint() {\n    setLoadingIndicator(loadingIndicator.concat([\"rewardCheckpoint\"]));\n    await rewardCheckpoint(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi);\n  }\n  async function handleRewardCheckpoint_DEPRECATED() {\n    setLoadingIndicator(loadingIndicator.concat([\"rewardCheckpoint\"]));\n    await rewardCheckpoint(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, getAddress(chainId, \"veShnYieldDistributorAddress\"), veShnYieldDistributor.abi);\n  }\n  async function handleClaim(rewardAddress, index) {\n    setLoadingIndicator(loadingIndicator.concat([`claim-${index}`]));\n    await getYield(rewardAddress, userAddress, loadingIndicator, setLoadingIndicator, index, setRefetchData, getAddress(chainId, \"veShnYieldDistributorAddress\"), veShnYieldDistributor.abi, setSuccessMessage, toggle);\n  }\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <div style={{ width: \"85%\", margin: \"0 auto\" }}>\n        <div>\n          <div>\n            <br></br>\n            <Text fontSize=\"26px\" fontWeight=\"600\" fontFamily=\"ClashGrotesk-Regular\">\n              veSHN Staking\n            </Text>\n            <br></br>\n            <p>If you have locked your SHN and got veSHN, you are eligible for veSHN staking.</p>\n          </div>\n          <div>\n            <table>\n              <tbody>\n                <tr>\n                  {console.log(\"token prices \", tokenPrices)}\n                  <th>APR Base/Max</th>\n                  {false && isWalletEnabled && (\n                    <td>\n                      {roundTo2Decimals((((fromWei(yieldRate) * 365 * 86400) / fromWei(totalVeShnParticipating)) * 100) / 4)}% / {roundTo2Decimals(((fromWei(yieldRate) * 365 * 86400) / fromWei(totalVeShnParticipating)) * 100)}%\n                    </td>\n                  )}\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    typeof dataForAdminPanel.yieldRate_arr != \"undefined\" &&\n                    dataForAdminPanel.yieldRate_arr.map((item, index) => {\n                      return (\n                        <td key={`apr-${index}`}>\n                          {roundTo2Decimals((((fromWei(dataForAdminPanel.yieldRate_arr[index]) * 365 * 86400 * tokenPrices[index]) / fromWei(dataForAdminPanel.totalVeShnParticipating_arr[index] * tokenPrices[0])) * 100) / 4)}% /{\" \"}\n                          {roundTo2Decimals(((fromWei(dataForAdminPanel.yieldRate_arr[index]) * 365 * 86400 * tokenPrices[index]) / fromWei(dataForAdminPanel.totalVeShnParticipating_arr[index] * tokenPrices[0])) * 100)}%\n                          {\n                            //{false && roundTo2Decimals((((fromWei(dataForAdminPanel.yieldRate_arr[index]) * 365 * 86400) / fromWei(dataForAdminPanel.totalVeShnParticipating_arr[index])) * 100) / 4)}% /{\" \"}\n                          }\n                          {\n                            //{false && roundTo2Decimals(((fromWei(dataForAdminPanel.yieldRate_arr[index]) * 365 * 86400) / fromWei(dataForAdminPanel.totalVeShnParticipating_arr[index])) * 100)}%\n                          }{\" \"}\n                        </td>\n                      );\n                    })}\n                </tr>\n\n                <tr>\n                  <td>User veSHN Staked</td>\n                  {\n                    //<td>{isWalletEnabled && roundTo2Decimals(fromWei(userVeShnCheckpointed))}</td>\n                  }\n                  {false && isWalletEnabled && userVeShnCheckpointedAllAddresses && userVeShnCheckpointedAllAddresses.map(userVeShnCheckpointed => <td>{roundTo2Decimals(fromWei(userVeShnCheckpointed))}</td>)}\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    typeof dataForAdminPanel.userVeShnCheckpointed_arr != \"undefined\" &&\n                    dataForAdminPanel.userVeShnCheckpointed_arr.map((item, index) => {\n                      return <td key={`total-staked-${index}`}>{roundTo2Decimals(fromWei(item))}</td>;\n                    })}\n                </tr>\n                <tr>\n                  <td>Reward token Symbol</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    typeof dataForAdminPanel.userVeShnCheckpointed_arr != \"undefined\" &&\n                    dataForAdminPanel.userVeShnCheckpointed_arr.map((item, index) => {\n                      return <td key={`token-symbol-${index}`}>{tokenSymbols[index]}</td>;\n                    })}\n                </tr>\n                <tr>\n                  <td>TVL</td>\n                  <td>${roundTo2Decimals(tvl)}</td>\n                </tr>\n                <tr>\n                  <td>% of SHN locked</td>\n                  <td>{isWalletEnabled && roundTo2Decimals((fromWei(totalShnSupply) / 21000000) * 100)}%</td>\n                </tr>\n              </tbody>\n            </table>\n            {loadingIndicator.includes(\"rewardCheckpoint\") ? (\n              <div>\n                <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                <br></br>\n                <i>Confirming transaction, please wait.</i>\n              </div>\n            ) : (\n              isWalletEnabled && <Button onClick={() => handleRewardCheckpoint()}>STAKE</Button>\n            )}\n            <br></br>\n            <span>\n              {\" \"}\n              {isWalletEnabled && (\n                <i>\n                  After you create, add or increase the timelock you need to <b>stake</b> again in order to account the new amount for the reward.\n                </i>\n              )}{\" \"}\n            </span>\n            <br></br> <br></br> <br></br>\n            <Text fontWeight=\"800\">Earned so far:</Text>\n            <br></br>\n            <div>\n              {isWalletEnabled &&\n                (successMessage.location != \"rewardClaim\" ? (\n                  typeof dataForAdminPanel != \"undefined\" &&\n                  typeof dataForAdminPanel.earned_arr != \"undefined\" &&\n                  dataForAdminPanel.earned_arr.map((item, index) => {\n                    return (\n                      <div key={`reward-claim-${index}`} style={{ marginBottom: 10, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                        <Text fontWeight=\"600\">\n                          {roundTo2Decimals(fromWei(dataForAdminPanel.earned_arr[index]))} {tokenSymbols[index]} 🌟 (${roundTo2Decimals(tokenPrices[index] * fromWei(dataForAdminPanel.earned_arr[index]))})\n                        </Text>\n                        {loadingIndicator.includes(`claim-${index}`) ? (\n                          <div>\n                            <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                            <br></br>\n                            <i>Confirming transaction, please wait.</i>\n                          </div>\n                        ) : (\n                          isWalletEnabled &&\n                          successMessage.location != \"rewardClaim\" && (\n                            <Button style={{ width: 150 }} onClick={() => handleClaim(rewardAddresses[index], index)}>\n                              CLAIM\n                            </Button>\n                          )\n                        )}\n                      </div>\n                    );\n                  })\n                ) : (\n                  <Text color=\"green\" fontWeight=\"600\">\n                    Reward claimed!\n                  </Text>\n                ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { HorizontalRuler } from \"components/common/HorizontalRuler\";\nimport { MobileDiv, Button, Card, Text } from \"components/common\";\nimport { timeConverter, getTotalShnSupply, fromWei, getOnlyUserAddress, sync, getAddress, notifyReward, veShnYieldDistributorApprove, getDataForControlPanel, removeRewardContract, deployNewRewardContract } from \"../../templates/utils\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n\nimport { ThemeContext } from \"providers/ThemeProvider\";\nimport veShnYieldDistributor from \"../../../../static/abi/veFXSYieldDistributorV4\";\nimport veSHN from \"../../../../static/abi/veFXS\";\nimport SHN from \"../../../../static/abi/ShineToken\";\nimport GeneralCheckpoint from \"../../../../static/abi/GeneralCheckpoint\";\n\nexport function ControllerPanel({ isWalletEnabled, chainId, refetchData, setRefetchData, loadingIndicator, setLoadingIndicator, rewardAddressesDropdown, tokenSymbolsForDropdown }) {\n  const { theme } = useContext(ThemeContext);\n  const [totalShnSupply, setTotalShnSupply] = useState(\"0\");\n\n  const [userAddress, setUserAddress] = useState();\n  const [rewardToAdd, setRewardToAdd] = useState();\n  const [successMessage, setSuccessMessage] = useState();\n\n  const [amountToApprove, setAmountToApprove] = useState();\n  const [selectedRewardAddress, setSelectedRewardAddress] = useState();\n  const [dataForAdminPanel, setDataForAdminPanel] = useState();\n\n  const [emittedTokenAddress, setEmittedTokenAddress] = useState();\n\n  useEffect(() => {\n    if (isWalletEnabled == true) {\n      async function getSupply() {\n        const shnSupply = await getTotalShnSupply(veSHN.abi, getAddress(chainId, \"veShnAddress\"));\n        console.log(\"shnSupply balance\", shnSupply);\n        setTotalShnSupply(shnSupply);\n        setUserAddress(await getOnlyUserAddress());\n        setSelectedRewardAddress(getAddress(chainId, \"veShnYieldDistributorAddress\"));\n        setDataForAdminPanel(await getDataForControlPanel(await getOnlyUserAddress(), getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi, veShnYieldDistributor.abi));\n      }\n      getSupply();\n    }\n  }, [isWalletEnabled, refetchData, chainId]);\n\n  async function handleSync(address) {\n    setLoadingIndicator(loadingIndicator.concat([\"sync\"]));\n    await sync(await getOnlyUserAddress(), setRefetchData, loadingIndicator, setLoadingIndicator, veShnYieldDistributor.abi, address);\n  }\n\n  function handleRewardChange(notifyRewardAmount) {\n    setRewardToAdd(notifyRewardAmount);\n  }\n\n  function handleNotifyReward(notifyRewardAmount, rewardContractAddress) {\n    notifyReward(userAddress, loadingIndicator, setLoadingIndicator, setRefetchData, rewardContractAddress, veShnYieldDistributor.abi, setSuccessMessage, notifyRewardAmount);\n  }\n\n  function handleApprove(amountToApprove) {\n    setAmountToApprove(amountToApprove);\n  }\n\n  function handleAmountToApprove(addressToApprove) {\n    veShnYieldDistributorApprove(userAddress, veShnYieldDistributor.abi, addressToApprove, loadingIndicator, setLoadingIndicator, SHN.abi);\n  }\n\n  function handleRewardContractRemoval(addressToRemove) {\n    if (confirm(\"Are you sure that you want to remove the reward contract address? Note that this action disables the people to claim the reward from the UI, however, if there are any rewards remaining they can be claimed over the smart contract.\")) {\n      removeRewardContract(userAddress, addressToRemove, getAddress(chainId, \"GeneralCheckpointAddress\"), GeneralCheckpoint.abi, veShnYieldDistributor.abi);\n    }\n  }\n  function handleDropdownAddressChange(address) {\n    console.log(\"handleDropdownAddressChange \", address);\n    setSelectedRewardAddress(address);\n  }\n\n  function handleRewardContractDeploy(ownerAddress, emittedTokenAddress, timelockAddress, veShnAddress) {\n    deployNewRewardContract(ownerAddress, emittedTokenAddress, timelockAddress, veShnAddress, GeneralCheckpoint.abi, getAddress(chainId, \"GeneralCheckpointAddress\"));\n  }\n  return (\n    <div>\n      {\" \"}\n      <br></br>\n      <HorizontalRuler theme={theme}></HorizontalRuler>\n      {console.log(\"controllerAddress \", getAddress(chainId, \"controllerAddress\"))}\n      {console.log(\"dataForAdminPanel \", dataForAdminPanel)}\n      {userAddress === getAddress(chainId, \"controllerAddress\") && (\n        <div style={{ textAlign: \"center\" }}>\n          {rewardAddressesDropdown &&\n            rewardAddressesDropdown.map((address, index) => {\n              return (\n                <div key={`address-${index}`} style={{ display: \"inline-block\", marginRight: 10, marginTop: 10 }}>\n                  {loadingIndicator.includes(\"sync\") ? (\n                    <div>\n                      <PulseLoader color={\"gold\"} loading={true} size={15} margin={2} />\n                      <br></br>\n                      <i>Confirming transaction, please wait.</i>\n                    </div>\n                  ) : (\n                    <Button onClick={() => handleSync(address)}>Sync</Button>\n                  )}\n                </div>\n              );\n            })}\n          <div style={{ width: \"86%\", margin: \"0px auto\" }}>\n            <table>\n              <tbody>\n                <tr>\n                  <td>Period finish</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.periodFinish_arr != \"undefined\" &&\n                    dataForAdminPanel.periodFinish_arr.map((item, index) => {\n                      return <td key={`period-finish-${index}`}>{timeConverter(item)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Last update time</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.lastUpdateTime_arr != \"undefined\" &&\n                    dataForAdminPanel.lastUpdateTime_arr.map((item, index) => {\n                      return <td key={`last-update-time-${index}`}>{timeConverter(item)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Yield Rate</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.yieldRate_arr != \"undefined\" &&\n                    dataForAdminPanel.yieldRate_arr.map((yieldRate, index) => {\n                      return <td key={`yieldRate-${index}`}>{fromWei(yieldRate)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Yield Per veSHN Stored</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.yieldPerVeShnStored_arr != \"undefined\" &&\n                    dataForAdminPanel.yieldPerVeShnStored_arr.map((yieldPerVeShnStored, index) => {\n                      return <td key={`yield-per-veSHN-${index}`}>{fromWei(yieldPerVeShnStored)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Total veSHN Participating</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.totalVeShnParticipating_arr != \"undefined\" &&\n                    dataForAdminPanel.totalVeShnParticipating_arr.map((totalVeShnParticipating, index) => {\n                      return <td key={`total-veSHN-participating-${index}`}>{fromWei(totalVeShnParticipating)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Total veSHN Supply Stored</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.totalVeShnSupplyStored_arr != \"undefined\" &&\n                    dataForAdminPanel.totalVeShnSupplyStored_arr.map((totalVeShnSupplyStored, index) => {\n                      return <td key={`total-veShn-supply-stored-${index}`}>{fromWei(totalVeShnSupplyStored)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>User veSHN Staked</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.userVeShnCheckpointed_arr != \"undefined\" &&\n                    dataForAdminPanel.userVeShnCheckpointed_arr.map((userVeShnCheckpointed, index) => {\n                      return <td key={`user-staked-${index}`}>{fromWei(userVeShnCheckpointed)}</td>;\n                    })}\n                </tr>\n                <tr>\n                  <td>Fraction Participating</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.fractionParticipating_arr != \"undefined\" &&\n                    dataForAdminPanel.fractionParticipating_arr.map((fractionParticipating, index) => {\n                      return <td key={`fraction-participating-${index}`}>{fractionParticipating / 10000}%</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>Yield Per VeShn</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.yieldPerVeShn_arr != \"undefined\" &&\n                    dataForAdminPanel.yieldPerVeShn_arr.map((yieldPerVeShn, index) => {\n                      return <td key={`yield-per-veSHN-${index}`}>{fromWei(yieldPerVeShn)}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>userVeShnEndpointCheckpointed</td>\n                  {isWalletEnabled &&\n                    typeof dataForAdminPanel != \"undefined\" &&\n                    dataForAdminPanel.userVeShnEndpointCheckpointed_arr != \"undefined\" &&\n                    dataForAdminPanel.userVeShnEndpointCheckpointed_arr.map((userVeShnEndpointCheckpointed, index) => {\n                      return <td key={`user-endpoint-checkpointed-${index}`}>{userVeShnEndpointCheckpointed}</td>;\n                    })}\n                </tr>\n\n                <tr>\n                  <td>User Address</td>\n                  <td>{isWalletEnabled && userAddress}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <br></br> <Button onClick={() => handleRewardContractRemoval(selectedRewardAddress)}>Remove contract from the UI</Button>\n          <br></br>\n          <br></br> <Button onClick={() => handleAmountToApprove(selectedRewardAddress)}>Approve Contract</Button> <br></br>\n          <br></br>\n          <select onChange={target => handleDropdownAddressChange(target.target.value)} name=\"reward-addresses\" id=\"reward-addresses\">\n            {rewardAddressesDropdown &&\n              tokenSymbolsForDropdown &&\n              rewardAddressesDropdown.map((item, index) => {\n                return <option key={`dropdown-address-${index}`} value={item}>{`${item}-${tokenSymbolsForDropdown[index]}`}</option>;\n              })}\n          </select>\n          <input onChange={target => handleRewardChange(target.target.value)} value={rewardToAdd} style={{ borderRadius: 6, boder: \"1px solid #3f3d56\", marginLeft: 20 }}></input> <br></br>\n          <br></br> <Button onClick={() => handleNotifyReward(rewardToAdd, selectedRewardAddress)}>Notify Reward</Button>\n          <br></br>\n          <br></br>\n          <HorizontalRuler theme={theme}></HorizontalRuler>\n          <br></br>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <label for=\"emitted-token-address\">Emitted token address. </label>\n            <input name=\"emitted-token-address\" onChange={target => setEmittedTokenAddress(target.target.value.toLocaleLowerCase())} value={emittedTokenAddress} style={{ borderRadius: 6, boder: \"1px solid #3f3d56\", marginLeft: 20 }}></input> <br></br>\n            <Button onClick={async () => handleRewardContractDeploy(await getOnlyUserAddress(), emittedTokenAddress, await getOnlyUserAddress(), getAddress(chainId, \"veShnAddress\"))}>Deploy new reward contract</Button>\n            <br></br>\n            <i>Note that you need to notify the reward into the deployed contract soon after deploying. Otherwise the UI will be broken.</i>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Layout, SEO, Button, Card, Text, MobileDiv } from \"components/common\";\nimport { Header } from \"components/theme\";\nimport { VeShnContainer } from \"../components/common/subpages/veShnContainer\";\nimport { StakingContainer } from \"components/common/subpages/stakingContainer\";\nimport { HorizontalRuler } from \"components/common/HorizontalRuler\";\nimport { ThemeContext } from \"providers/ThemeProvider\";\nimport { WalletContext } from \"providers/WalletProvider\";\nimport { ControllerPanel } from \"components/common/subpages/controllerPanel\";\n\nexport default ({ location }) => {\n  const { theme } = useContext(ThemeContext);\n  const { isWalletEnabled, setWalletStatus, chainId, setChainId, currentAccount, setCurrentAccount, refetchData, setRefetchData, loadingIndicator, setLoadingIndicator } = useContext(WalletContext);\n  console.log(\"isWalletEnabled Container1 \", isWalletEnabled);\n  console.log(\"chainId Container 1\", chainId);\n  const [rewardAddressesDropdown, setRewardAddressesDropdown] = useState();\n  const [tokenSymbolsForDropdown, setTokenSymbolsForDropdown] = useState();\n  return (\n    <Layout position=\"absolute\" bottom=\"4px\" width=\"100%\" height=\"60px\">\n      <SEO title=\"veSHN\" description=\"veSHN staking\" />\n      <Header />\n\n      <MobileDiv mobileWidth=\"100%\" width=\"90%\" background=\"\" style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\", paddingBottom: \"200px\" }}>\n        {chainId == \"0x89\" || chainId == \"0x13881\" || (process.env.NODE_ENV == \"development\" && chainId == \"0x539\") ? (\n          <div>\n            <br></br>  <br></br>\n            <HorizontalRuler theme={theme}></HorizontalRuler>\n            <VeShnContainer  isWalletEnabled={isWalletEnabled} chainId={chainId} refetchData={refetchData} setRefetchData={setRefetchData} loadingIndicator={loadingIndicator} setLoadingIndicator={setLoadingIndicator}></VeShnContainer>\n            <HorizontalRuler theme={theme}></HorizontalRuler>\n            <StakingContainer setTokenSymbolsForDropdown={setTokenSymbolsForDropdown} setRewardAddressesDropdown={setRewardAddressesDropdown} isWalletEnabled={isWalletEnabled} chainId={chainId} refetchData={refetchData} setRefetchData={setRefetchData} loadingIndicator={loadingIndicator} setLoadingIndicator={setLoadingIndicator}></StakingContainer>\n            <ControllerPanel rewardAddressesDropdown={rewardAddressesDropdown} tokenSymbolsForDropdown={tokenSymbolsForDropdown} isWalletEnabled={isWalletEnabled} chainId={chainId} refetchData={refetchData} setRefetchData={setRefetchData} loadingIndicator={loadingIndicator} setLoadingIndicator={setLoadingIndicator}></ControllerPanel>\n          </div>\n        ) : (\n          <div style={{ textAlign: \"center\", marginTop: 80 }}>\n            <br></br>\n            <Text fontWeight=\"600\">Chain unsupported</Text>\n            <br></br>\n            <p style={{ marginLeft: 80, marginRight: 80 }}>\n              veSHN is only available on Polygon (Matic) Network. If you have SHN on the Ethereum Mainnet, please bridge them by following these{\" \"}\n              <a target=\"_self\" href=\"https://shinedao.medium.com/shine-bridge-to-matic-is-live-df10f2b1d620\">\n                instructions\n              </a>\n              .\n            </p>\n          </div>\n        )}\n      </MobileDiv>\n    </Layout>\n  );\n};\n"],"sourceRoot":""}