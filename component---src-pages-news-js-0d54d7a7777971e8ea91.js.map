{"version":3,"sources":["webpack:///./src/components/common/subpages/article.js","webpack:///./src/components/common/subpages/subpageNews.js","webpack:///./src/pages/news.js","webpack:///./src/assets/illustrations/upVote.png"],"names":["articleId","submitVote","setServiceError","getRankedArticles","a","console","log","then","result","catch","e","deleteArticle","confirm","Article","title","domain","url","userVotedAlready","createdAt","author","totalScore","userRoles","theme","useContext","ThemeContext","useMoralisCloudFunction","autoFetch","fetch","voteSubmitError","data","error","voteSubmitIsLoading","isLoading","useEffect","message","hoursAgo","Date","getTime","style","paddingLeft","fontWeight","display","color","loading","size","margin","cursor","height","marginRight","onClick","handleVote","src","upVote","href","fontSize","parseInt","Number","parseFloat","toFixed","includes","handleDeletionOfArticle","compare","b","SubpageNews","useMoralis","authenticate","isAuthenticated","user","Moralis","useMoralisQuery","articles","useState","setTitle","setUrl","serviceError","isSubmissionVisible","setSubmissionVisibility","generalError","setGeneralError","generalInfo","setGeneralInfo","ethAddress","setEthAddress","saveArticle","saveArticleResult","saveArticleError","saveArticleIsLoading","onboardPreviousDataIfOldUser","address","get","rankedArticles","shnWeightedBalance","User","logOut","window","location","reload","width","boxShadow","alignItems","background","paddingRight","handleNavBarSumbit","handleLogout","marginLeft","backgroundHover","loadWeb3MoralisProviderLight","padding","htmlFor","value","onChange","target","handleTitleChange","type","id","name","handleUrlChange","length","map","item","symbol","balance","sort","article","index","key","appId","serverUrl","position","bottom","flexDirection","paddingBottom","module","exports"],"mappings":"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","file":"component---src-pages-news-js-0d54d7a7777971e8ea91.js","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { ThemeContext } from \"providers/ThemeProvider\";\nimport { useMoralisCloudFunction } from \"react-moralis\";\nimport upVote from \"assets/illustrations/upVote.png\";\nimport { SmallText } from \"components/common\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n\nimport { Link } from \"components/common\";\n\nasync function handleVote(articleId, submitVote, setServiceError, getRankedArticles) {\n  console.log(\"article id \", articleId);\n  submitVote(articleId) // not sure if articleId param needs to be passed or it is already passed?\n    .then(result => {\n      console.log(\"result from voting\", result);\n      getRankedArticles();\n    })\n    .catch(e => {\n      console.log(\"error while voting\", e);\n\n      setServiceError(e);\n    });\n}\n\nasync function handleDeletionOfArticle(deleteArticle, getRankedArticles) {\n  if (confirm(\"Are you sure that you want to delete the article\")) {\n    await deleteArticle();\n    console.log(\"deleted\");\n    getRankedArticles();\n  }\n}\n\nexport function Article({ title, domain, articleId, url, userVotedAlready, createdAt, author, totalScore, setServiceError, getRankedArticles, userRoles }) {\n  const { theme } = useContext(ThemeContext);\n\n  const { fetch: submitVote, data: voteSubmittedResult, error: voteSubmitError, isLoading: voteSubmitIsLoading } = useMoralisCloudFunction(\n    \"voteOnArticle\",\n    { articleId },\n    { autoFetch: false }\n  );\n\n  const { fetch: deleteArticle, data: deleteArticleResult, error: deleteArticleError, isLoading: deleteArticleIsLoading } = useMoralisCloudFunction(\n    \"deleteArticle\",\n    { articleId },\n    {\n      autoFetch: false,\n    }\n  );\n\n  useEffect(() => {\n    if (voteSubmitError && voteSubmitError.message == \"Validation failed. Please login to continue.\") {\n      setServiceError(\"Only authenticated users can upvote. Please try to connect your wallet\");\n    } else if (voteSubmitError && voteSubmitError.message == \"User already voted\") {\n      setServiceError(\"You already voted\");\n    } else if (voteSubmitError) {\n      voteSubmitError && setServiceError(voteSubmitError.message);\n    }\n  }, [voteSubmitError]);\n\n  let hoursAgo = (new Date().getTime() - new Date(createdAt).getTime()) / 1000 / 60 / 60;\n\n  return (\n    <div style={{ paddingLeft: 10 }}>\n      <div style={{ fontWeight: \"bold\" }}>\n        {!userVotedAlready && (\n          <div style={{ display: \"inline-block\" }}>\n            <PulseLoader style={{}} color={\"#3f3d56\"} loading={voteSubmitIsLoading} size={3} margin={2} />\n            <img style={{ cursor: \"pointer\", height: 18, marginRight: 5 }} onClick={() => handleVote(articleId, submitVote, setServiceError, getRankedArticles)} src={upVote}></img>\n          </div>\n        )}\n        <Link href={url}>{title} </Link>\n        <span style={{ fontWeight: \"normal\", fontSize: \"small\", color: \"#a2a2a2\" }}>({domain}) </span>\n      </div>\n      <SmallText theme={theme}>\n        <span style={{ fontWeight: \"normal\" }}>{parseInt(totalScore)} points </span> <span>by</span> <span style={{ fontWeight: \"normal\" }}> {author},</span>{\" \"}\n        <span> submitted {Number.parseFloat(hoursAgo).toFixed(2)} hours ago </span>\n        {userRoles && userRoles.includes(\"Moderator\") && (\n          <span onClick={() => handleDeletionOfArticle(deleteArticle, getRankedArticles)} style={{ fontWeight: \"bold\", cursor: \"pointer\" }}>\n            Delete\n          </span>\n        )}\n      </SmallText>\n    </div>\n  );\n}\n\nexport default function dummy() {\n  return <></>;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useMoralis, useMoralisQuery, useMoralisCloudFunction } from \"react-moralis\";\nimport { Button, Text } from \"components/common\";\nimport { Article } from \"./article\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n\nimport { loadWeb3MoralisProviderLight } from \"../../../utils/pagesUtils\";\n\nfunction handleTitleChange(e, setTitle) {\n  setTitle(e.target.value);\n}\n\nfunction handleUrlChange(e, setUrl) {\n  setUrl(e.target.value);\n}\n\nfunction compare(a, b) {\n  return b.totalScore - a.totalScore;\n}\n\nexport function SubpageNews() {\n  const { authenticate, isAuthenticated, user, Moralis } = useMoralis();\n  const { data: articles, error, isLoading } = useMoralisQuery(\"Article\");\n  const { data: userData, error: userError, isLoading: userisLoading } = useMoralisQuery(\"User\");\n\n  //const { fetch, data:toggleOnboardingData, error: toggleOnboardingError, isLoading:toggleOnboardingDataIsLoading } = useMoralisCloudFunction(\"toggleOnboarding\", { autoFetch: false });\n\n  const [title, setTitle] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [serviceError, setServiceError] = useState();\n  const [isSubmissionVisible, setSubmissionVisibility] = useState(false);\n  const [generalError, setGeneralError] = useState();\n  const [generalInfo, setGeneralInfo] = useState();\n  const [ethAddress, setEthAddress] = useState();\n\n  //const { fetch: getUserRoles, data: getUserRolesResult, error: getUserRolesError, isLoading: getUserRolesErrorIsLoading } = useMoralisCloudFunction(\n  // \"getUserRoles\",\n  // {  },\n  // { autoFetch: true }\n  // );\n\n  const { fetch: saveArticle, data: saveArticleResult, error: saveArticleError, isLoading: saveArticleIsLoading } = useMoralisCloudFunction(\n    \"saveArticle\",\n    { title, url },\n    { autoFetch: false }\n  );\n\n  const {\n    fetch: onboardPreviousDataIfOldUser,\n    data: onboardPreviousDataIfOldUserResult,\n    error: onboardPreviousDataIfOldUserError,\n    isLoading: onboardPreviousDataIfOldUserIsLoading,\n  } = useMoralisCloudFunction(\"onboardPreviousDataIfOldUser\", { ethAddress }, { autoFetch: false });\n\n  useEffect(() => {\n    console.log(\"user 3213\", user);\n    if (user !== null) {\n      let address = user.get(\"ethAddress\");\n\n      console.log(\" user data 321 \", address);\n      getRankedArticles();\n      setEthAddress(address);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    console.log(\" is authenticated \", isAuthenticated);\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    if (typeof ethAddress !== \"undefined\") {\n      console.log(\"eth address data \", ethAddress);\n      onboardPreviousDataIfOldUser();\n    }\n  }, [ethAddress]);\n\n  const { fetch: getRankedArticles, data: rankedArticles, error: getRankedArticlesError, isLoading: onboardContributorIsLoading } = useMoralisCloudFunction(\n    \"getRankedArticles\",\n    {},\n    {\n      autoFetch: true,\n    }\n  );\n\n  useEffect(() => {\n    console.log(\" here are the articles \", saveArticleResult, typeof saveArticleResult);\n    if (saveArticleResult == \"Success\") {\n      console.log(\"also called\");\n      setSubmissionVisibility(false);\n      setGeneralInfo(\"Article submitted successfully!\");\n      setTitle(\"\");\n      setUrl(\"\");\n      getRankedArticles();\n    }\n  }, [saveArticleResult]);\n\n  const { fetch: onboardContributor, data: onboardContributorResponse, error: onboardContributorError, isLoading: rankedArticlesisLoading } = useMoralisCloudFunction(\n    \"onboardContributor\",\n    {},\n    {\n      autoFetch: false,\n    }\n  );\n\n  const { fetch: getShnWeightedBalance, data: shnWeightedBalance, error: shnWeightedBalanceError, isLoading: shnWeightedIsLoading } = useMoralisCloudFunction(\n    \"getShnWeightedBalance\",\n    {},\n    {\n      autoFetch: false,\n    }\n  );\n\n  const { fetch: getUserRoles, data: userRoles, error: getUserRolesError, isLoading: getUserRolesIsLoading } = useMoralisCloudFunction(\n    \"getUserRoles\",\n    {},\n    {\n      autoFetch: true,\n    }\n  );\n\n  useEffect(() => {\n    console.log(\"user roles \", userRoles);\n  }, [userRoles]);\n\n  useEffect(() => {\n    console.log(\"isSaveArticleLoading\", saveArticleIsLoading);\n    if (saveArticleIsLoading) {\n      setSubmissionVisibility(false);\n    }\n  }, [saveArticleIsLoading]);\n\n  if (error) {\n    return <span>🤯</span>;\n  }\n\n  if (isLoading) {\n    return <span>🙄</span>;\n  }\n\n  function handleNavBarSumbit(isAuthenticated, setSubmissionVisibility, setGeneralError) {\n    console.log(\" hello \", isAuthenticated);\n    if (isAuthenticated) {\n      setSubmissionVisibility(true);\n    } else {\n      setGeneralError(\n        \"Only vaccinated people can submit an article... 😷💉 👀  Nah, we are kidding, you actually have to be contributor. Go to the ShineDAO main page to find out what that is and to complete the onboarding.\"\n      );\n    }\n\n    if (isSubmissionVisible) {\n      setGeneralInfo();\n      setSubmissionVisibility(!isSubmissionVisible);\n    }\n  }\n\n  async function handleLogout() {\n    await Moralis.User.logOut();\n    window.location.reload(true);\n  }\n  return (\n    <div style={{ width: \"100%\" }}>\n      <div style={{ boxShadow: \"0px 3px 0px 0px\", display: \"flex\", alignItems: \"baseline\", background: \"rgb(250 218 94)\", margin: \"0 auto\" }}>\n        <span>\n          <h2 style={{ color: \"rgb(54 52 54)\", display: \"inline\", paddingLeft: 10 }}>Degen News</h2>\n        </span>{\" \"}\n        <span style={{ paddingLeft: 15, paddingRight: 15 }}>|</span>\n        <span style={{ cursor: \"pointer\" }} onClick={() => handleNavBarSumbit(isAuthenticated, setSubmissionVisibility, setGeneralError)}>\n          Submit\n        </span>\n        {!isAuthenticated ? (\n          <div style={{ marginLeft: \"auto\" }}>\n            <Button backgroundHover=\"#45e25a\" onClick={() => loadWeb3MoralisProviderLight(authenticate, Moralis)}>\n              Connect Wallet\n            </Button>\n          </div>\n        ) : (\n          <span onClick={() => handleLogout()} style={{ marginLeft: \"auto\", paddingRight: 8, cursor: \"pointer\" }}>\n            Log out\n          </span>\n        )}\n      </div>\n\n      <div>\n        {false && (\n          <img\n            style={{ height: 190, marginTop: 0, float: \"right\" }}\n            src=\"https://aws1.discourse-cdn.com/standard21/uploads/shinedao/original/1X/dca391ba2f0d2a5f8487017e7deb6931b46b6288.jpeg\"\n          ></img>\n        )}\n        {isAuthenticated && (\n          <div>\n            <br></br>\n            <Text color=\"#181717\" padding=\"0px 0px 0px 10px\">\n              Welcome {user.get(\"username\")}, submit your most interesting DeFi news!\n            </Text>\n          </div>\n        )}\n        <PulseLoader style={{}} color={\"#3f3d56\"} loading={saveArticleIsLoading} size={15} margin={10} />\n\n        {isSubmissionVisible && (\n          <div style={{ paddingLeft: 5 }}>\n            <label htmlFor=\"title\">Title: </label>\n            <input value={title} onChange={e => handleTitleChange(e, setTitle)} type=\"text\" id=\"title\" name=\"title\"></input>\n            <br></br>\n            <label htmlFor=\"url\">URL: </label>\n            <input value={url} onChange={e => handleUrlChange(e, setUrl)} type=\"text\" id=\"url\" name=\"url\"></input>\n            <br></br>\n            <Button onClick={() => !saveArticleIsLoading && saveArticle()}>Submit</Button>\n          </div>\n        )}\n        {false && <Button onClick={() => getRankedArticles()}>Get Ranked Articles</Button>}\n        {false && <Button onClick={() => getShnWeightedBalance()}>Get weighted SHN balance</Button>}\n        {false && <Button onClick={() => onboardContributor()}>Onboard Contributor</Button>}\n        {generalError && ` ${generalError}`}\n        {generalInfo && (\n          <div style={{ paddingLeft: 10 }}>\n            {\" \"}\n            {generalInfo}\n            <br></br>\n          </div>\n        )}\n\n        {saveArticleError && <div style={{ paddingLeft: 10, color: \"tomato\" }}> Error: {saveArticleError.message} </div>}\n        {serviceError && <div> {serviceError}</div>}\n        {shnWeightedBalance &&\n          shnWeightedBalance.length > 0 &&\n          shnWeightedBalance.map(item => {\n            return (\n              <div>\n                Symbol: {item.symbol} {item.balance}\n              </div>\n            );\n          })}\n        <br></br>\n        <div style={{ width: \"100%\" }}>\n          {false && rankedArticles && console.log(\"ranked and sorted articles \", [...rankedArticles].sort(compare))}\n          {rankedArticles &&\n            rankedArticles.length != 0 &&\n            [...rankedArticles].sort(compare).map((article, index) => {\n              return (\n                <Article\n                  getRankedArticles={getRankedArticles}\n                  setServiceError={setServiceError}\n                  totalScore={article.totalScore}\n                  key={`key-${index}`}\n                  author={article.author}\n                  url={article.url}\n                  createdAt={article.createdAt}\n                  articleId={article.articleId}\n                  title={article.title}\n                  domain={article.domain}\n                  userVotedAlready={article.userVotedAlready}\n                  userRoles={userRoles}\n                ></Article>\n              );\n            })}\n        </div>\n      </div>\n      {console.log(\"type of articles\", articles.length)}\n      {false &&\n        articles.length != 0 &&\n        articles.map((article, index) => {\n          console.log(\"single article \", article);\n          return <Article key={`key-${index}`} title={article.attributes.title} url={article.attributes.url}></Article>;\n        })}\n      {}\n      {false && <pre>{JSON.stringify(rankedArticles, null, 2)}</pre>}\n      {false && <pre>{JSON.stringify(shnWeightedBalance, null, 2)}</pre>}\n      {false && <pre>{JSON.stringify(articles, null, 2)}</pre>}\n      {false && <pre>{JSON.stringify(userData, null, 2)}</pre>}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Layout, SEO, Button, Card, Text, MobileDiv } from \"components/common\";\nimport { Header } from \"components/theme\";\nimport { SubpageNews } from \"../components/common/subpages/subpageNews\";\nimport { MoralisProvider } from \"react-moralis\";\n\n\n\nexport default ({ location }) => {\n  \n  return (\n    <MoralisProvider appId=\"jTkB07PzkYA1pq8KpEaR3oDOApdmSpgJeCSXgJYF\" serverUrl=\"https://fsnbzd9rxwph.usemoralis.com:2053/server\">\n      <Layout position=\"absolute\" bottom=\"4px\" width=\"100%\" height=\"60px\">\n        <SEO />\n        <Header />\n\n\n        <MobileDiv width=\"90%\" background=\"whitesmoke\" style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\", paddingBottom: \"200px\" }}>\n  \n          <SubpageNews></SubpageNews>\n        </MobileDiv>\n      </Layout>\n    </MoralisProvider>\n  );\n};\n","module.exports = __webpack_public_path__ + \"static/upVote-59be2780a357ad49191ef4a6e5b67d8f.png\";"],"sourceRoot":""}